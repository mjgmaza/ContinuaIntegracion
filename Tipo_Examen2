def dia = new Date()
import java.util.Calendar
pipeline
{
    agent any
    stages
    {
        stage("mostrar Hora")
        {
            steps
            {                
                script
                {
                    Calendar cal=Calendar.getInstance();//it return same time as new Date()
                    def hour = cal.get(Calendar.HOUR_OF_DAY)
                    int horaActual = new Date().getHours()
                    println  'La hora actual es:'  + horaActual
                    println  'La hora actual Calendar es:'  + horaActual                    
                    if (horaActual >12){
                        println  'if por mayor'
                        println  'La hora actual es:'  + horaActual
                    }else{
                        println  'if por else'
                        println  'La hora actual es:'  + horaActual
                    }
                }
                
            }
        }
        stage("Acción en función de hora")
        {
            steps
            {                
                script
                {
                    Calendar cal=Calendar.getInstance();//it return same time as new Date()
                    def hour = cal.get(Calendar.HOUR_OF_DAY)
                    int horaActual = new Date().getHours()
                    println dia
                    println  'La hora actual es:'  + horaActual
                    println  'La hora actual Calendar es:'  + horaActual                    
                    if (horaActual >12){
                        println  'if por mayor'
                        println  'La hora actual es:'  + horaActual
                    }else{
                        println  'if por else'
                        println  'La hora actual es:'  + horaActual
                    }
                 }
             }
          }                    
    }
}
